javascript:(function(){const s=(i,v)=>{const d=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,'value').set;d.call(i,v);i.dispatchEvent(new Event('input',{bubbles:true}));i.dispatchEvent(new Event('change',{bubbles:true}));};const f=window.fetch;window.fetch=async function(...a){const r=await f(...a);try{if(typeof a[0]==='string'&&a[0].includes('/responses')){const j=await r.clone().json();if(!Array.isArray(j)||!j[0]?.text)return r;const t=j[0].text;console.log('[Quill Auto] Full answer text:',t);const sInput=document.querySelector('textarea.connect-text-area');if(sInput){s(sInput,t);console.log('[Quill Auto] Filled full sentence.');}const i=document.querySelectorAll('input.fill-in-blank-input');if(i.length>0){let f=[];i.forEach(n=>{const b=n.previousSibling?.textContent?.trim()||'';const a=n.nextSibling?.textContent?.trim()||'';f.push({input:n,before:b,after:a});});for(const{input:n,before:b,after:a}of f){const m=t.match(new RegExp(b.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&')+'\\s+(\\S+?)\\s+'+a.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&'),'i'));if(m&&m[1]){s(n,m[1]);console.log('[Quill Auto] Filled blank:',m[1]);}else{console.warn('[Quill Auto] Could not match:',b,'-',a);}}}}}catch(e){console.warn('[Quill Auto] Error:',e);}return r;};})();
